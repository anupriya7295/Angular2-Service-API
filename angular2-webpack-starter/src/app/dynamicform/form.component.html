<div style="padding:1%;margin-top:2%;">
  <div class="mdl-card mdl-shadow--6dp" style="width:50%;margin:auto;margin-top:3%;">

    <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
      <h1 class="mdl-card__title-text">{{formdata.name}}</h1>
    </div>

    <div class="mdl-card__supporting-text" style="overflow: visible;">
      <form #form="ngForm" novalidate (ngSubmit)="createEntity()">
        <div *ngFor="let data of formdata.component">
          <div [ngSwitch]="[data.type]">

            <div *ngSwitchCase="'text'" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width:100%;">
              <i class="mdl-textfield__icon  material-icons" style="">
                 <img  *ngIf="data.icon"src="./assets/SVG/{{data.icon}}" style="width: 16px;"/>
                <div *ngIf="data.material_icon" class="material-icons" style="font-size:17px;">{{data.material_icon}}</div>
              </i>
              <!-- <input class="mdl-textfield__input" type="{{data.type}}" id="{{data.id}}" [(ngModel)]="entity[data.name]" name="{{data.name}}" #{{data.name}}="ngModel" pattern="{{data.pattern}}"> -->
              <input class="mdl-textfield__input" type="{{data.type}}" id="{{data.id}}" #{{data.name}}="ngModel" pattern="{{data.pattern}}" minLength="{{data.minLength}}" [required]="isRequired ? true : null" [(ngModel)]="entity[data.name]" name="{{data.name}}" (ngModelChange)="entity[data.name] = $event">
              <label class="mdl-textfield__label ">{{data.label}}</label>
              <div class="mdl-textfield__error ">
                <div [hidden]="[data.name].valid">
                  {{data.errormessage}}
                </div>
              </div>
            </div>

            <div *ngSwitchCase="'password'" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width:100%;">
              <i class="mdl-textfield__icon  material-icons" style="">
                 <img  *ngIf="data.icon"src="./assets/SVG/{{data.icon}}" style="width: 16px;"/>
                <div *ngIf="data.material_icon" class="material-icons" style="font-size:17px;">{{data.material_icon}}</div>
              </i>
              <!-- <input class="mdl-textfield__input" type="{{data.type}}" id="{{data.id}}" [(ngModel)]="entity[data.name]" name="{{data.name}}" #{{data.name}}="ngModel" pattern="{{data.pattern}}"> -->
              <input class="mdl-textfield__input" type="{{data.type}}" id="{{data.id}}" #{{data.name}}="ngModel" pattern="{{data.pattern}}" minLength="{{data.minLength}}" [required]="isRequired ? true : null" [(ngModel)]="entity[data.name]" name="{{data.name}}" (ngModelChange)="entity[data.name] = $event">
              <label class="mdl-textfield__label ">{{data.label}}</label>
              <div class="mdl-textfield__error ">
                <div [hidden]="[data.name].valid">
                  {{data.errormessage}}
                </div>
              </div>
            </div>

            <div *ngSwitchCase="'number'" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width:100%;">
              <i class="mdl-textfield__icon  material-icons" style="">
                 <img  *ngIf="data.icon"src="./assets/SVG/{{data.icon}}" style="width: 16px;"/>
                <div *ngIf="data.material_icon" class="material-icons" style="font-size:17px;">{{data.material_icon}}</div>
              </i>
              <!-- <input class="mdl-textfield__input" type="{{data.type}}" id="{{data.id}}" [(ngModel)]="entity[data.name]" name="{{data.name}}" #{{data.name}}="ngModel" pattern="{{data.pattern}}"> -->
              <input class="mdl-textfield__input" type="{{data.type}}" id="{{data.id}}" #{{data.name}}="ngModel" min="{{data.min}}" max="{{data.max}}" [required]="isRequired ? true : null" [(ngModel)]="entity[data.name]" name="{{data.name}}" (ngModelChange)="entity[data.name] = $event">
              <label class="mdl-textfield__label ">{{data.label}}</label>
              <div class="mdl-textfield__error ">
                <div [hidden]="[data.name].valid">
                  {{data.errormessage}}
                </div>
              </div>
            </div>

            <div *ngSwitchCase="'textarea'" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width:100%;">
              <i class="mdl-textfield__icon  material-icons" style="">
                 <img  *ngIf="data.icon"src="./assets/SVG/{{data.icon}}" style="width: 17px;"/>
                <div *ngIf="data.material_icon" class="material-icons" style="font-size:17px;">{{data.material_icon}}</div>
              </i>
              <textarea class="mdl-textfield__input" id="{{data.id}}" #{{data.name}}="ngModel" pattern="{{data.pattern}}" [required]="isRequired ? true : null" [(ngModel)]="entity[data.name]" name="{{data.name}}" (ngModelChange)="entity[data.name] = $event"></textarea>
              <label class="mdl-textfield__label ">{{data.label}}</label>
              <div class="mdl-textfield__error ">
                <div [hidden]="[data.name].valid">
                  {{data.errormessage}}
                </div>
              </div>
            </div>

            <div *ngSwitchCase="'dropdown'" class="mdl-selectfield mdl-js-selectfield mdl-selectfield--floating-label" style="width:100%;">
              <i class="mdl-textfield__icon  material-icons" style="">
                 <img  *ngIf="data.icon"src="./assets/SVG/{{data.icon}}" style="width: 17px;"/>
                <div *ngIf="data.material_icon" class="material-icons" style="font-size:17px;">{{data.material_icon}}</div>
              </i>
              <select id="{{data.id}}" class="mdl-selectfield__select" #{{data.name}}="ngModel" [(ngModel)]="entity[data.name]" name="{{data.name}}" (ngModelChange)="entity[data.name] = $event">
                          <option disabled></option>
                          <option *ngFor="let p of data.options" [value]="p"  >{{p}}</option>
                        </select>
              <label class="mdl-selectfield__label">{{data.label}}</label>
            </div>

            <div *ngSwitchCase="'checkbox'" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
              <i class="mdl-textfield__icon  material-icons" style="">
                 <img  *ngIf="data.icon"src="./assets/SVG/{{data.icon}}" style="width: 17px;margin-bottom:14px;"/>
                <div *ngIf="data.material_icon" class="material-icons" style="font-size:17px;margin-bottom:14px;">{{data.material_icon}}</div>
              </i>
              <table>
                <tr>
                  <td *ngFor="let p of data.options">
                    <label class="mdl-checkbox mdl-js-checkbox ">
                      <input type="{{data.type}}" id="{{data.id}}"  class="mdl-checkbox__input"
                      #{{p}} [value]="p" name="{{data.type}}"  (change)="checkboxManagement($event.target.value ,$event.target.checked,data.type)" >
                      <span class="mdl-checkbox__label">{{p}}</span>
                    </label>
                  </td>
                </tr>
              </table>


            </div>

            <div *ngSwitchCase="'radiobutton'" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
              <i class="mdl-textfield__icon  material-icons" style="">
                 <img  *ngIf="data.icon"src="./assets/SVG/{{data.icon}}" style="width: 17px;margin-bottom:14px;"/>
                <div *ngIf="data.material_icon" class="material-icons" style="font-size:17px;margin-bottom:14px;">{{data.material_icon}}</div>
              </i>
              <table>
                <tr>
                  <td *ngFor="let p of data.options">
                    <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect">
                      <input type="radio" id="{{data.id}}"  class="mdl-radio__button" [value]="p" #{{p}} name="{{data.type}}" (change)="entity[data.name] = p" >
                      <span class="mdl-radio__label">{{p}}</span>
                    </label>
                  </td>
                </tr>
              </table>
            </div>

          </div>
          <!--end of ngSwitch-->
        </div>
        <!-- end of form fata loop -->
        <div>{{entity | json}}</div>
      </form>
    </div>
  </div>
</div>

<!-- <formio [form]="form"></formio> -->
<!-- <formio src="https://pjmfogrfqptslvi.form.io/test"></formio> -->
